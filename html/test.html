<!DOCTYPE html>
<html lank="ko">
<head>
	<meta charset="utf-8" />
	<title>한국표준정보망</title>
	<link rel="stylesheet" type="text/css" href="/admin/css/common.css" />
	<script type="text/javascript" src="/admin/js/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="/admin/js/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/admin/js/ui.js"></script>
</head>
<body>


<button class="add">셀렉트 박스 추가</button>

<div class="wrap" style="padding:50px">
	<div class="selectBox" data-form="selectBox">
		<!-- <div class="designSelect">
			<button>테스트테스트0</button>
			<ul>
				<li><a href="#test0">테스트테스트0</a></li>
				<li><a href="#test1">테스트테스트1</a></li>
				<li><a href="#test2">테스트테스트2</a></li>
				<li><a href="#test3">테스트테스트3</a></li>
				<li><a href="#test4">테스트테스트4</a></li>
			</ul>
		</div> -->
		<select id="test">
			<option value="test0">테스트테스트테스트0</option>
			<option value="test1">테스트테스트테스트1</option>
			<option value="test2">테스트테스트테스트2</option>
			<option value="test3">테스트테스트테스트3</option>
			<option value="test4">테스트테스트테스트4</option>
			<option value="test4">테스트테스트테스트5</option>
			<option value="test4">테스트테스트테스트6</option>
			<option value="test4">테스트테스트테스트7</option>
			<option value="test4">테스트테스트테스트8</option>
		</select>
	</div>
</div>

<div class="wrap2" style="padding:50px">
	<div class="selectBox" data-form="selectBox">
		<select id="test3">
			<option>서울</option>
			<option>경기도</option>
			<option>강원도</option>
			<option>경상북도</option>
		</select>
	</div>
	<div class="selectBox" data-form="selectBox">
		<select id="test4">
			<option>강남구</option>
			<option>서대문구</option>
			<option>마포구</option>
			<option>동대문구</option>
			<option>관악구</option>
		</select>
	</div>
</div>

<script>
	ui.selectBox.init();

	$("#test").change(function(){
		var idx = $(this).find("option:selected").index();
		alert("select Index: " + idx);
	});

	// $("#test2").change(function(){
	// 	var idx = $(this).find("option:selected").index();
	// 	alert("동적생성 select Index: " + idx);
	// });

	$(document).on("change", "#test2", function(){
		var idx = $(this).find("option:selected").index();
		alert("동적생성 select Index: " + idx);
	});

	$(".add").click(function(){
		var html = "";
			html += "<div class='selectBox' data-form='selectBox'>"
			html += "<select id='test2'>"
			html += "	<option>추가1</option>";
			html += "	<option>추가2</option>";
			html += "	<option>추가3</option>";
			html += "</select>"
			html += "</div>"
		$(".wrap").append(html);
		$("#test2").skin();
	})

	$(document).on("change", "#test3", function(){
		var idx = $(this).find("option:selected").index();
		console.log(idx)
		$("#test4").find("option").remove();
		if(idx == 0){
			var html = "";
			html += "<option>강남구</option>"
			html += "<option>서대문구</option>"
			html += "<option>마포구</option>"
			$("#test4").append(html);
		}
		if(idx == 1){
			console.log("ccc")
			var html = "";
			html += "<option>일산</option>"
			html += "<option>남양주</option>"
			html += "<option>가평</option>"
			$("#test4").append(html);
		}
		$("#test4").update();
	});
</script>

</body>
</html>
